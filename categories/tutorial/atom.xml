<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Tutorial | Meta Data Science]]></title>
  <link href="http://metadatascience.com/categories/tutorial/atom.xml" rel="self"/>
  <link href="http://metadatascience.com/"/>
  <updated>2014-03-06T16:48:55-08:00</updated>
  <id>http://metadatascience.com/</id>
  <author>
    <name><![CDATA[Massoud Seifi]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Plotting the frequency distribution using R]]></title>
    <link href="http://metadatascience.com/2013/07/03/plotting-the-frequency-distribution-using-r/"/>
    <updated>2013-07-03T12:22:00-07:00</updated>
    <id>http://metadatascience.com/2013/07/03/plotting-the-frequency-distribution-using-r</id>
    <content type="html"><![CDATA[<h3>Introduction</h3>

<p><a href="http://www.r-project.org/">R</a> is an open source language and environment for statistical computing and graphics.
It&rsquo;s an implementation of the <a href="http://en.wikipedia.org/wiki/S_(programming_language">S language</a>) which was developed at Bell Laboratories by John Chambers and colleagues.
R provides a wide variety of statistical and graphical techniques, including linear and nonlinear modeling, classical statistical tests, time-series analysis, classification, clustering, and others.
It is also an interpreted language and can be accessed through a command-line interpreter: For example, if a user types &ldquo;2+2&rdquo; at the R command prompt and press enter, the computer replies with &ldquo;4&rdquo;.
R is freely available under the GNU General Public License.</p>

<h3>Plotting The Frequency Distribution</h3>

<h4>Frequency distribution</h4>

<p>A frequency distribution shows the number of occurrences in each category of a categorical variable.
For example, in a sample set of users with their favourite colors, we can find out how many users like a specific color.</p>

<h4>Data set</h4>

<p>Suppose a data set of 30 records including user ID, favorite color and gender:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Sample Set  (sample.csv)</span> <a href='/downloads/code/sample.csv'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>ID,Color,Gender
</span><span class='line'>792141B,Blue,Male
</span><span class='line'>795156A,Blue,Male
</span><span class='line'>795156B,Blue,Male
</span><span class='line'>795156C,Blue,Male
</span><span class='line'>795156E,Blue,Male
</span><span class='line'>795156G,Blue,Female
</span><span class='line'>795156I,Blue,Male
</span><span class='line'>795156J,White,Male
</span><span class='line'>795156M,Red,Male
</span><span class='line'>795156N,Blue,Male
</span><span class='line'>795156O,Green,Male
</span><span class='line'>795156P,Red,Male
</span><span class='line'>795156Q,Blue,Male
</span><span class='line'>795156S,White,Male
</span><span class='line'>795156T,Blue,Male
</span><span class='line'>795156W,Red,Female
</span><span class='line'>800731A,Red,Male
</span><span class='line'>800731C,Blue,Male
</span><span class='line'>800731E,Blue,Male
</span><span class='line'>800731F,Blue,Female
</span><span class='line'>800731G,Red,Male
</span><span class='line'>800731I,Blue,Female
</span><span class='line'>800731K,Blue,Female
</span><span class='line'>800731M,Blue,Male
</span><span class='line'>800731N,Blue,Female
</span><span class='line'>800731O,Blue,Female
</span><span class='line'>800731Q,Blue,Male
</span><span class='line'>800731W,Blue,Male
</span><span class='line'>800731X,Red,Male
</span><span class='line'>800731Y,Red,Male
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h4>Reading the csv file</h4>

<p>Let&rsquo;s start with reading the csv file:</p>

<p><code>text
data &lt;- read.csv(file = 'sample.csv', header = TRUE, sep = ',')
</code></p>

<p>The first argument which is mandatory is the name of file. The second argument indicates whether or not the first row is a set of labels and the third argument indicates the delimiter. The above command will read in the csv file and assign it to a variable called &ldquo;data&rdquo;.</p>

<p>You can use the following command to see the list of column names:</p>

<p><code>text
names(data)
</code>
which results:</p>

<p><code>text
[1] "ID"     "Color"  "Gender"
</code></p>

<p>Or you can use following command to see a summary of the data:</p>

<p><code>text
summary(data)
</code></p>

<p>``` text</p>

<pre><code>   ID       Color       Gender  
</code></pre>

<p> 792141B: 1   Blue :20   Female: 7<br/>
 795156A: 1   Green: 1   Male  :23<br/>
 795156B: 1   Red  : 7            <br/>
 795156C: 1   White: 2            <br/>
 795156E: 1                       <br/>
 795156G: 1                       <br/>
 (Other):24<br/>
```
As you see, the number of occurrences of each color is shown in the summary.</p>

<h4>Table function</h4>

<p><em>table()</em>  uses the cross-classifying factors to build a contingency table of the counts at each combination of factor levels.</p>

<p><code>text
table(data$Color)
</code></p>

<p>``` text</p>

<p> Blue Green   Red White
   20     1     7     2
```</p>

<h4>Plotting</h4>

<p>Now we can plot it easily using the <em>barplot</em> command:</p>

<p><code>text
barplot(table(data$Color))
</code></p>

<h4>Save the plot as an image</h4>

<p>I can see the plot on my machine, but to put it here on my weblog, I have to save it as an image:</p>

<p><code>text
dev.copy(png, 'freq.png')
dev.off()
</code></p>

<p>Here you go&hellip;</p>

<p><img class="center" src="/images/freq.png" width="380" height="380"></p>

<h4>Factor</h4>

<p>The <em>factor</em> function is used to create a factor (or category) from a vector.</p>

<p><code>text
factor(data$Color)
</code></p>

<p><code>text
[1] Blue  Blue  Blue  Blue  Blue  Blue  Blue  White Red   Blue  Green Red  
[13] Blue  White Blue  Red   Red   Blue  Blue  Blue  Red   Blue  Blue  Blue
[25] Blue  Blue  Blue  Blue  Red   Red  
Levels: Blue Green Red White
</code></p>

<p>Levels is a unique set of values in the vector.</p>

<p>Now, suppose that &ldquo;Yellow&rdquo; was also an option for the users but nobody has chosen it as the favourite color.
We can use the <em>factor</em> command to customize the categories:</p>

<p><code>text
factor(data$Color, levels = c('Blue', 'Green', 'Yellow', 'Red', 'White'))
</code></p>

<p><code>text
 [1] Blue  Blue  Blue  Blue  Blue  Blue  Blue  White Red   Blue  Green Red  
[13] Blue  White Blue  Red   Red   Blue  Blue  Blue  Red   Blue  Blue  Blue
[25] Blue  Blue  Blue  Blue  Red   Red  
Levels: Blue Green Yellow Red White
</code></p>

<p>Now, we can see Yellow in the frequency distribution:</p>

<p><code>text
table(factor(data$Color, levels = c('Blue','Green','Yellow','Red','White')))
</code></p>

<p>``` text
  Blue  Green Yellow    Red  White</p>

<pre><code>20      1      0      7      2 
</code></pre>

<p>```</p>

<p>And we can see it on the plot:</p>

<p><code>text
barplot(table(factor(data$Color, levels = c('Blue', 'Green', 'Yellow', 'Red', 'White'))))
</code></p>

<p><img class="center" src="/images/freq1.png" width="380" height="380"></p>

<p>if you want to see the percentages instead of the values, you can try this:</p>

<p><code>text
t &lt;- table(factor(data$Color, levels = c('Blue', 'Green', 'Yellow', 'Red', 'White')))
barplot(t / sum(t))
</code></p>

<p><img class="center" src="/images/freq2.png" width="380" height="380"></p>

<h4>Filtering</h4>

<p>Now, let&rsquo;s imagine that we want to plot the frequency distribution of favourite colors for men and women separately.
The following commands create two subsets of data by filtering the gender and store it to two different variables (Don&rsquo;t forget the comma!):</p>

<p>``` text
men &lt;&ndash; data[data$Gender == &lsquo;Male&rsquo;,]</p>

<p>women &lt;&ndash; data[data$Gender == &lsquo;Female&rsquo;,]</p>

<p>```</p>

<p>now we can plot the distributions seperately:</p>

<p>``` text
l &lt;&ndash; c(&lsquo;Blue&rsquo;, &lsquo;Green&rsquo;, &lsquo;Yellow&rsquo;, &lsquo;Red&rsquo;, &lsquo;White&rsquo;)</p>

<p>barplot(table(factor(men$Color, levels = l, main = &lsquo;Men&rsquo;)</p>

<p>barplot(table(factor(women$Color, levels = l, main = &lsquo;Women&rsquo;)
```</p>

<p><img src="/images/freq_men.png" width="380" height="380"><img src="/images/freq_women.png" width="380" height="380"></p>

<h4>Colors and Labels</h4>

<p>Do you like colors and labels?! Here you go&hellip;</p>

<p>``` text
l &lt;&ndash; c(&lsquo;Blue&rsquo;,&lsquo;Green&rsquo;,&lsquo;Yellow&rsquo;,&lsquo;Red&rsquo;,&lsquo;White&rsquo;)</p>

<p>barplot(table(factor(data$Color, levels = l)) , col = c(&lsquo;blue&rsquo;, &lsquo;green&rsquo;, &lsquo;yellow&rsquo;, &lsquo;red&rsquo;, &lsquo;white&rsquo;), xlab = &lsquo;Favourite Color&rsquo;, ylab = &lsquo;Number Of Users&rsquo;)
```</p>

<p><img class="center" src="/images/freq3.png" width="480" height="480"></p>
]]></content>
  </entry>
  
</feed>
